<mvc:View xmlns:uxap="sap.uxap" controllerName="purchaseorder.controller.View1"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m">
    <SplitApp id="SplitAppDemo" initialDetail="detail" initialMaster="list">
        <detailPages>
            <Page id="detail" title="{i18n>detailsPageTitle}">
                <ObjectHeader id="purchaseOrderHeader" title="{selectedPurchaseOrder>/oData/PurchaseOrder}" titleActive="true" condensed="false" 
                number="{path: 'selectedPurchaseOrder>/oData/to_PurchaseOrderItem/results', formatter: '.PriceFormatter.calculateTotalNetPrice'}"
                numberUnit="{selectedPurchaseOrder>/oData/DocumentCurrency}"  
                class="sapUiResponsivePadding--header">
                    <attributes>
                        <ObjectAttribute text="{path: 'selectedPurchaseOrder>/oData/PurchaseOrderDate', type: 'sap.ui.model.type.Date', formatter: '.Formatter.dateToText' }" textDirection="right-to-left" />
                        <ObjectAttribute text="{selectedPurchaseOrder>/oData/CreatedByUser}" />
                    </attributes>
                </ObjectHeader>
                <IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding">
                    <items>
                        <IconTabFilter id="iconTabBarFilter1" icon="sap-icon://hint" tooltip="" headerBackgroundDesign="solid">
                            <content>
                                <VBox>
                                    <HBox class="sapUiSmallMarginBottom">
                                        <Text text="{i18n>PurchaseOrder}:" class="labelText"/>
                                        <Text text="{selectedPurchaseOrder>/oData/PurchaseOrder}" class="valueText"/>
                                    </HBox>
                                    <HBox class="sapUiSmallMarginBottom">
                                        <Text text="{i18n>AccountAssignment}:" class="labelText"/>
                                        <Text text="{/AccountAssignment}" class="valueText"/>
                                    </HBox>
                                    <HBox class="sapUiSmallMarginBottom">
                                        <Text text="{i18n>DeliveryDate}:" class="labelText"/>
                                        <Text text="01.01.1970" class="valueText"/>
                                    </HBox>
                                    <HBox class="sapUiSmallMarginBottom">
                                        <Text text="{i18n>PaymentTerms}:" class="labelText"/>
                                        <Text text="{selectedPurchaseOrder>/oData/PaymentTerms}" class="valueText"/>
                                    </HBox>
                                    <HBox class="sapUiSmallMarginBottom">
                                        <Text text="{i18n>Incoterms}:" class="labelText"/>
                                        <Text text="{selectedPurchaseOrder>/oData/IncotermsClassification} {selectedPurchaseOrder>/oData/IncotermsVersion} {selectedPurchaseOrder>/oData/Location1} {selectedPurchaseOrder>/oData/Location2}" class="valueText"/>
                                    </HBox>
                                    <HBox class="sapUiSmallMarginBottom">
                                        <Text text="{i18n>CompanyCode}:" class="labelText"/>
                                        <Text text="{selectedPurchaseOrder>/oData/CompanyCode}" class="valueText"/>
                                    </HBox>
                                </VBox>
                            </content>
                        </IconTabFilter>
                        <IconTabFilter id="iconTabBarFilter2" icon="sap-icon://accelerated" tooltip="">
                        </IconTabFilter>
                    </items>
                </IconTabBar>
                <Table id="PurchaseOrderItemTable" items="{path: 'purchaseOrderItems>/'}" sticky="HeaderToolbar">
                    <headerToolbar>
                        <Toolbar>
                            <Title text="Items ({viewModel>/PurchaseOrderItemCount})" level="H2"/>
                        </Toolbar>
                    </headerToolbar>
                    <columns>
                        <Column>
                            <Text text="{i18n>Description}"/>
                        </Column>
                        <Column>
                            <Text text="{i18n>ItemCategory}"/>
                        </Column>
                        <Column>
                            <Text text="{i18n>Quantity}"/>
                        </Column>
                        <Column>
                            <Text text="{i18n>Subtotal}"/>
                        </Column>
                    </columns>
                    <items>
                        <ColumnListItem type="Navigation" press="onPurchaseOrderItemPressed">
                            <cells>
                                <Text text="{purchaseOrderItems>PurchaseOrderItemText}" />
                                <Text text="{purchaseOrderItems>PurchaseOrderItemCategory}" />
                                <Text text="{purchaseOrderItems>OrderQuantity}" />
                                <Text text="{purchaseOrderItems>NetPriceAmount}" />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
                <footer>
                    <OverflowToolbar class="footer">
                        <ToolbarSpacer/>
                        <Button text="Accept" type="Accept" press="onApprove"/>
                        <Button text="Reject" type="Reject" press="onReject"/>
                    </OverflowToolbar>
                </footer>
            </Page>
            <Page id="purchaseOrderItemDetail" title="Purchase Order Item Details" showHeader="false">
                <Toolbar>
                    <Button icon="sap-icon://nav-back" press="onPressNavBack"/>
                    <ToolbarSpacer />
                    <Button icon="sap-icon://navigation-up-arrow" press="onPressNavPrevious"/>
                    <Button icon="sap-icon://navigation-down-arrow" press="onPressNavNext"/>
                </Toolbar>
                <ObjectHeader id="purchaseOrderItemHeader" title="{selectedPurchaseOrderItem>/PurchaseOrderItemText}" titleActive="false" condensed="false" number="{path: 'selectedPurchaseOrderItem>/NetPriceAmount', formatter: '.formatPrice'}" numberUnit="{selectedPurchaseOrderItem>/DocumentCurrency}" class="sapUiResponsivePadding--header">
                    <attributes>
                        <ObjectAttribute text="{selectedPurchaseOrderItem>/OrderQuantity} {selectedPurchaseOrderItem>/PurchaseOrderQuantityUnit}" />
                        <ObjectAttribute text="Standard" />
                        <ObjectAttribute text="Purchase Order Item {selectedPurchaseOrderItem>/PurchaseOrderItem} / {viewModel>/PurchaseOrderItemCount}" />
                    </attributes>
                </ObjectHeader>
                <Panel headerText="Information">
                    <HBox class="sapUiSmallMarginBottom alignDetails">
                        <Text text="Material Group:" class="labelText"/>
                        <Text text="{selectedPurchaseOrderItem>/MaterialGroup}" class="valueText"/>
                    </HBox>
                </Panel>
                <Panel headerText="Delivery on January 01, 1970">
                    <VBox class="alignDetails">
                        <HBox class="sapUiSmallMarginBottom">
                            <Text text="Plant:" class="labelText"/>
                            <Text text="{selectedPurchaseOrderItem>/Plant}" class="valueText"/>
                        </HBox>
                        <HBox class="sapUiSmallMarginBottom">
                            <Text text="Address:" class="labelText"/>
                            <Text text="{selectedPurchaseOrderItem>/DeliveryAddressFullName} {selectedPurchaseOrderItem>/DeliveryAddressHouseNumber} {selectedPurchaseOrderItem>/DeliveryAddressStreetName}, {selectedPurchaseOrderItem>/DeliveryAddressCityName} {selectedPurchaseOrderItem>/DeliveryAddressRegion} {selectedPurchaseOrderItem>/DeliveryAddressPostalCode}, {selectedPurchaseOrderItem>/DeliveryAddressCountry}" class="valueText"/>
                        </HBox>
                    </VBox>
                </Panel>
                <Panel headerText="Dimensions">
                    <VBox class="alignDetails">
                        <HBox class="sapUiSmallMarginBottom">
                            <Text text="Net Weight:" class="labelText"/>
                            <Text text="{selectedPurchaseOrderItem>/ItemNetWeight} {selectedPurchaseOrderItem>/ItemWeightUnit}" class="valueText"/>
                        </HBox>
                        <HBox class="sapUiSmallMarginBottom">
                            <Text text="Volume:" class="labelText"/>
                            <Text text="{selectedPurchaseOrderItem>/ItemVolume} {selectedPurchaseOrderItem>/ItemVolumeUnit}" class="valueText"/>
                        </HBox>
                    </VBox>
                </Panel>
            </Page>
        </detailPages>
        <masterPages>
            <Page id="list" title="{i18n>listPageTitle} ({viewModel>/itemCount})">
                <SearchField liveChange=".onSearch" />
                <List id="OrdersList" items="{purchaseOrders>/oData}">
                    <ObjectListItem 
                        title="{purchaseOrders>Supplier}" 
                        type="Active" 
                        press="onListItemPressed" 
                        number="{
                            path: 'purchaseOrders>to_PurchaseOrderItem/results', 
                            formatter: '.PriceFormatter.calculateTotalNetPrice'
                        }"
                        numberUnit="{purchaseOrders>DocumentCurrency}"
                    >
                        <firstStatus>
                            <ObjectStatus 
                                text="{
                                    path: 'purchaseOrders>PurchaseOrderDate', 
                                    type: 'sap.ui.model.type.Date', 
                                    formatter: '.DateFormatter.dateToText'
                                }"
                            />
                        </firstStatus>
                        <ObjectAttribute text="{purchaseOrders>CreatedByUser}" />
                    </ObjectListItem>
                </List>
                <footer >
                    <OverflowToolbar class="footer" />
                </footer>
            </Page>
        </masterPages>
    </SplitApp>
</mvc:View>
