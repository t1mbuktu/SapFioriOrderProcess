<mvc:View xmlns:uxap="sap.uxap" controllerName="purchaseorder.controller.View1"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m">
    <SplitApp 
        id="SplitAppDemo" 
        initialDetail="detail" 
        initialMaster="list">
        <detailPages>
            <Page id="detail">
                <ObjectHeader id="purchaseOrderHeader" title="{selectedPurchaseOrder>/oData/PurchaseOrder}" titleActive="true" condensed="true" 
                number="{path: 'selectedPurchaseOrder>/oData/to_PurchaseOrderItem/results', formatter: '.PriceFormatter.calculateTotalNetPrice'}"
                numberUnit="{selectedPurchaseOrder>/oData/DocumentCurrency}"  
                class="sapUiResponsivePadding--header">
                <ObjectAttribute text="Test" />
			    <ObjectAttribute text="Test2" />
                    <ObjectAttribute text="{path: 'selectedPurchaseOrder>/oData/PurchaseOrderDate', type: 'sap.ui.model.type.Date', formatter: '.Formatter.dateToText' }" />
                </ObjectHeader>
                <IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding">
                    <items>
                        <IconTabFilter id="iconTabBarFilter1" icon="sap-icon://hint" tooltip="">
                            <content>
                                <VBox alignItems="Center">
                                    <Text text="Purchase Order: {selectedPurchaseOrder>/oData/PurchaseOrder}" />
                                    <Text text="Account Assignment: {/AccountAssignment}" />
                                    <Text text="Delivery Date: 01.01.1970" />
                                    <Text text="Payment Terms: {selectedPurchaseOrder>/oData/PaymentTerms}" />
                                    <Text text="Incoterms: {selectedPurchaseOrder>/oData/IncotermsClassification} {selectedPurchaseOrder>/oData/IncotermsVersion} {selectedPurchaseOrder>/oData/Location1} {selectedPurchaseOrder>/oData/Location2}" />
                                    <Text text="Company Code: {selectedPurchaseOrder>/oData/CompanyCode}" />
                                </VBox>
                            </content>
                        </IconTabFilter>
                    </items>
                </IconTabBar>
                
            <Table id="PurchaseOrderItemTable" items="{path: 'formattedPurchaseOrderItems>/'}" sticky="HeaderToolbar">
                <headerToolbar>
                    <Toolbar>
                        <Title text="Items({viewModel>/PurchaseOrderItemCount}) Notes: ({viewModel>/PurchaseOrderNoteCount})" level="H2"/>
                    </Toolbar>
                </headerToolbar>
                <columns>
                    <Column>
                        <Text text="Description"/>
                    </Column>
                    <Column>
                        <Text text="Item Category"/>
                    </Column>
                    <Column>
                        <Text text="Quantity"/>
                    </Column>
                    <Column>
                        <Text text="Subtotal"/>
                    </Column>
                </columns>
                <items>
                    <ColumnListItem type="Navigation" press="onPurchaseOrderItemPressed">
                        <cells>
                            <Text text="{formattedPurchaseOrderItems>PurchaseOrderItemText}" />
                            <Text text="{formattedPurchaseOrderItems>PurchaseOrderItemCategory}" />
                            <Text text="{formattedPurchaseOrderItems>OrderQuantity}" />
                            <Text text="{formattedPurchaseOrderItems>NetPriceAmount}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>
            </Page>
            <Page id="purchaseOrderItemDetail" title="Purchase Order Item Details" showHeader="false">
            <Toolbar>
                    <Button icon="sap-icon://nav-back" press="onPressNavBack"/>
                    <ToolbarSpacer />
                    <Button icon="sap-icon://navigation-up-arrow" press="onPressNavPrevious"/>
                    <Button icon="sap-icon://navigation-down-arrow" press="onPressNavNext"/>
                </Toolbar>
                <ObjectHeader id="purchaseOrderItemHeader" title="{selectedPurchaseOrderItem>/PurchaseOrderItemText}" titleActive="false" condensed="false" 
                number="{path: 'selectedPurchaseOrderItem>/NetPriceAmount', formatter: '.formatPrice'}"
                numberUnit="{selectedPurchaseOrderItem>/DocumentCurrency}" 
                class="sapUiResponsivePadding--header">
                <attributes>
                    <ObjectAttribute text="{selectedPurchaseOrderItem>/OrderQuantity} {selectedPurchaseOrderItem>/PurchaseOrderQuantityUnit}" />
			        <ObjectAttribute text="Standard" />
                    <ObjectAttribute text="Purchase Order Item {selectedPurchaseOrderItem>/PurchaseOrderItem} / {viewModel>/PurchaseOrderItemCount}" />
                </attributes>
                </ObjectHeader>
                <Panel headerText="Information">
                <FlexBox alignItems="Center" justifyContent="Center">
                    <Text text="Material Group: {selectedPurchaseOrderItem>/MaterialGroup}"/>
                </FlexBox>
                </Panel>
                <Panel headerText="Delivery on January 01, 1970">
                <FlexBox direction="Column" alignItems="Center">
                    <Text text="Plant: {selectedPurchaseOrderItem>/Plant}"/>
                    <Text text=" "/>
                    <Text text="Address: {selectedPurchaseOrderItem>/DeliveryAddressFullName} {selectedPurchaseOrderItem>/DeliveryAddressHouseNumber} {selectedPurchaseOrderItem>/DeliveryAddressStreetName}, {selectedPurchaseOrderItem>/DeliveryAddressCityName} {selectedPurchaseOrderItem>/DeliveryAddressRegion} {selectedPurchaseOrderItem>/DeliveryAddressPostalCode}, {selectedPurchaseOrderItem>/DeliveryAddressCountry}"/>
                </FlexBox>
                </Panel>
                <Panel headerText="Dimensions">
                <FlexBox direction="Column" alignItems="Center">
                    <Text text="Net Weight: {selectedPurchaseOrderItem>/ItemNetWeight} {selectedPurchaseOrderItem>/ItemWeightUnit}"/>
                    <Text text=" "/>
                    <Text text="Volume: {selectedPurchaseOrderItem>/ItemVolume} {selectedPurchaseOrderItem>/ItemVolumeUnit}"/>
                </FlexBox>
                </Panel>
            </Page>
        </detailPages>
        <masterPages>    
            <Page id="list">
                <SearchField liveChange=".onSearch" />
                <List id="OrdersList" items="{purchaseOrders>/oData}" headerText="Purchase Orders ({viewModel>/itemCount})">
                    <ObjectListItem 
                        title="{purchaseOrders>Supplier}" 
                        type="Active" press="onListItemPressed" 
                        number="{path: 'purchaseOrders>to_PurchaseOrderItem/results', formatter: '.PriceFormatter.calculateTotalNetPrice'}" 
                        numberUnit="{purchaseOrders>DocumentCurrency}">
                        <firstStatus>
                            <ObjectStatus text="{path: 'purchaseOrders>PurchaseOrderDate', type: 'sap.ui.model.type.Date', formatter: '.DateFormatter.dateToText'}" />
                        </firstStatus>
                        <ObjectAttribute text="{purchaseOrders>CreatedByUser}" />
                    </ObjectListItem>
                </List>
            </Page>
        </masterPages>
    </SplitApp>
</mvc:View>
